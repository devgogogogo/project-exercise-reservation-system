<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>회원가입</title>

    <!-- Tailwind (CDN + forms 플러그인) -->
    <script src="https://cdn.tailwindcss.com?plugins=forms"></script>
</head>
<body class="min-h-screen bg-slate-50">
<main class="min-h-screen flex items-center justify-center px-4">
    <div class="w-full max-w-md bg-white rounded-2xl border border-slate-200 shadow-xl overflow-hidden">
        <!-- 그라데이션 헤더 -->
        <header class="px-6 py-5 text-white bg-gradient-to-r from-indigo-500 via-sky-500 to-teal-500">
            <h1 class="text-lg font-bold">회원가입</h1>
            <p class="text-xs mt-1 opacity-90">앱처럼 가볍고 심플한 폼</p>
        </header>

        <div class="p-6">
            <form th:action="@{/signup}" th:object="${createUserForm}" method="post" novalidate>
                <!-- CSRF (있으면 자동 세팅) -->
                <input type="hidden" th:if="${_csrf != null}" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>

                <!-- 글로벌 에러(여러 줄) -->
                <div class="text-red-600 text-sm space-y-1 mb-3" th:if="${#fields.hasGlobalErrors()}">
                    <p th:each="e : ${#fields.globalErrors()}" th:text="${e.defaultMessage}"></p>
                </div>

                <!-- 이름 -->
                <div class="mb-3">
                    <label for="name" class="block text-sm font-semibold">이름 <span class="text-red-500">*</span></label>
                    <input id="name" type="text" class="mt-1 block w-full rounded-xl border-slate-300"
                           placeholder="이름을 적어주세요." th:field="*{name}"/>
                    <p class="mt-1 text-sm text-red-600" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></p>
                </div>

                <!-- 닉네임 -->
                <div class="mb-3">
                    <label for="nickname" class="block text-sm font-semibold">닉네임 <span class="text-red-500">*</span></label>
                    <input id="nickname" type="text" class="mt-1 block w-full rounded-xl border-slate-300"
                           placeholder="닉네임을 적어주세요." th:field="*{nickname}"/>
                    <p class="mt-1 text-sm text-red-600" th:if="${#fields.hasErrors('nickname')}" th:errors="*{nickname}"></p>
                </div>

                <!-- 아이디 -->
                <div class="mb-3">
                    <label for="username" class="block text-sm font-semibold">아이디 <span class="text-red-500">*</span></label>
                    <input id="username" type="text" class="mt-1 block w-full rounded-xl border-slate-300"
                           placeholder="아이디" th:field="*{username}"/>
                    <p class="mt-1 text-sm text-red-600" th:if="${#fields.hasErrors('username')}" th:errors="*{username}"></p>
                </div>

                <!-- 비밀번호 -->
                <div class="mb-3">
                    <label for="password" class="block text-sm font-semibold">비밀번호 <span class="text-red-500">*</span></label>
                    <input id="password" type="password" class="mt-1 block w-full rounded-xl border-slate-300"
                           placeholder="비밀번호" th:field="*{password}"/>
                    <p class="mt-1 text-sm text-red-600" th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></p>
                </div>

                <!-- 회원등록 시작일 -->
                <div class="mb-3">
                    <label for="startAt" class="block text-sm font-semibold">회원등록 시작일</label>
                    <input id="startAt" type="date" class="mt-1 block w-full rounded-xl border-slate-300"
                           th:field="*{startAt}"/>
                    <p class="mt-1 text-sm text-red-600" th:if="${#fields.hasErrors('startAt')}" th:errors="*{startAt}"></p>
                </div>

                <!-- 회원등록 종료일 -->
                <div class="mb-4">
                    <label for="endAt" class="block text-sm font-semibold">회원등록 종료일</label>
                    <input id="endAt" type="date" class="mt-1 block w-full rounded-xl border-slate-300"
                           th:field="*{endAt}"/>
                    <p class="mt-1 text-sm text-red-600" th:if="${#fields.hasErrors('endAt')}" th:errors="*{endAt}"></p>
                </div>

                <button type="submit"
                        class="w-full py-3 rounded-xl font-semibold text-white bg-sky-600 hover:bg-sky-700">
                    회원가입 완료
                </button>
            </form>
        </div>
    </div>
</main>
</body>
</html>
